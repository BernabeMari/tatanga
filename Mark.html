<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rainbow ABAC System</title>
  <style>
    :root {
      --red: #ff5555;
      --orange: #ffaa55;
      --yellow: #ffff55;
      --green: #55ff55;
      --blue: #5555ff;
      --indigo: #5555aa;
      --violet: #aa55aa;
      --white: #ffffff;
      --light-gray: #f0f0f0;
      --dark-gray: #333333;
    }

    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, var(--red), var(--orange), var(--yellow), var(--green), var(--blue), var(--indigo), var(--violet));
      background-size: 400% 400%;
      animation: rainbow-bg 15s ease infinite;
      min-height: 100vh;
      color: var(--dark-gray);
    }

    @keyframes rainbow-bg {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.85);
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    h1, h2, h3 {
      text-align: center;
      color: var(--indigo);
    }

    h1 {
      margin-top: 0;
      background: linear-gradient(90deg, var(--red), var(--orange), var(--yellow), var(--green), var(--blue), var(--indigo), var(--violet));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 2.5rem;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    .flex-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }

    .role-section, .resource-section, .attribute-section {
      flex: 1;
      min-width: 300px;
      padding: 15px;
      border-radius: 10px;
      background-color: var(--white);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .role-card {
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .role-card:hover {
      transform: translateY(-5px);
    }

    .role-admin {
      background-color: var(--red);
      color: white;
    }

    .role-manager {
      background-color: var(--blue);
      color: white;
    }

    .role-user {
      background-color: var(--green);
      color: white;
    }

    .resource {
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 8px;
      background-color: var(--light-gray);
      border-left: 5px solid var(--orange);
    }

    .resource h4 {
      margin-top: 0;
      color: var(--indigo);
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: var(--indigo);
    }

    select, input {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
    }

    button {
      padding: 10px 15px;
      background-color: var(--violet);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: var(--indigo);
    }

    .result-box {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      background-color: var(--light-gray);
      border-left: 5px solid var(--green);
    }

    .denied {
      border-left-color: var(--red);
    }

    .attributes-list {
      list-style-type: none;
      padding: 0;
    }

    .attributes-list li {
      padding: 5px 0;
      border-bottom: 1px dashed #ddd;
    }

    .access-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .access-table th, .access-table td {
      padding: 10px;
      text-align: left;
      border: 1px solid #ddd;
    }

    .access-table th {
      background-color: var(--violet);
      color: white;
    }

    .access-table tr:nth-child(even) {
      background-color: var(--light-gray);
    }

    .access-badge {
      padding: 3px 8px;
      border-radius: 3px;
      font-size: 12px;
      font-weight: bold;
    }

    .access-allowed {
      background-color: var(--green);
      color: white;
    }

    .access-denied {
      background-color: var(--red);
      color: white;
    }

    .rainbow-divider {
      height: 4px;
      width: 100%;
      margin: 20px 0;
      background: linear-gradient(90deg, var(--red), var(--orange), var(--yellow), var(--green), var(--blue), var(--indigo), var(--violet));
      border-radius: 2px;
    }
  </style>
</head>
<body>
  <div class="container">
    <marquee behavior="scroll" direction="left">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
        <img src="mark.jpg" width="200" height="200" alt="Logo">
      </marquee>
      
    <p>Maroa Helios panagay sa magkakapatid, uwi ako maaga kailangan ako samin bla bla bla etc...</p>
    
    <div class="rainbow-divider"></div>
    
    <div class="flex-container">
      <div class="role-section">
        <h2>Roles & Attributes</h2>
        
        <div class="role-card role-admin">
          <h3>Admin</h3>
          <div class="attributes-list">
            <p><strong>Department:</strong> IT</p>
            <p><strong>Clearance Level:</strong> High</p>
            <p><strong>Access Hours:</strong> 24/7</p>
            <p><strong>IP Range:</strong> Any</p>
          </div>
        </div>
        
        <div class="role-card role-manager">
          <h3>Manager</h3>
          <div class="attributes-list">
            <p><strong>Department:</strong> Any</p>
            <p><strong>Clearance Level:</strong> Medium</p>
            <p><strong>Access Hours:</strong> 7am-10pm</p>
            <p><strong>IP Range:</strong> Corporate</p>
          </div>
        </div>
        
        <div class="role-card role-user">
          <h3>User</h3>
          <div class="attributes-list">
            <p><strong>Department:</strong> Assigned</p>
            <p><strong>Clearance Level:</strong> Low</p>
            <p><strong>Access Hours:</strong> 9am-6pm</p>
            <p><strong>IP Range:</strong> Corporate</p>
          </div>
        </div>
      </div>
      
      <div class="resource-section">
        <h2>Protected Resources</h2>
        
        <div class="resource">
          <h4>System Configuration</h4>
          <p><strong>Required Clearance:</strong> High</p>
          <p><strong>Allowed Departments:</strong> IT</p>
          <p><strong>Sensitivity:</strong> Critical</p>
        </div>
        
        <div class="resource">
          <h4>Financial Reports</h4>
          <p><strong>Required Clearance:</strong> Medium</p>
          <p><strong>Allowed Departments:</strong> Finance, Executive</p>
          <p><strong>Sensitivity:</strong> High</p>
        </div>
        
        <div class="resource">
          <h4>HR Records</h4>
          <p><strong>Required Clearance:</strong> Medium</p>
          <p><strong>Allowed Departments:</strong> HR, Executive</p>
          <p><strong>Sensitivity:</strong> High</p>
        </div>
        
        <div class="resource">
          <h4>Department Documents</h4>
          <p><strong>Required Clearance:</strong> Low</p>
          <p><strong>Allowed Departments:</strong> Any (Own)</p>
          <p><strong>Sensitivity:</strong> Medium</p>
        </div>
        
        <div class="resource">
          <h4>Public Information</h4>
          <p><strong>Required Clearance:</strong> Low</p>
          <p><strong>Allowed Departments:</strong> Any</p>
          <p><strong>Sensitivity:</strong> Low</p>
        </div>
      </div>
      
      <div class="attribute-section">
        <h2>Access Simulator</h2>
        
        <div class="form-group">
          <label for="user-role">User Role:</label>
          <select id="user-role">
            <option value="admin">Admin</option>
            <option value="manager">Manager</option>
            <option value="user" selected>User</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="user-department">Department:</label>
          <select id="user-department">
            <option value="IT">IT</option>
            <option value="Finance">Finance</option>
            <option value="HR">HR</option>
            <option value="Marketing">Marketing</option>
            <option value="Sales">Sales</option>
            <option value="Executive">Executive</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="resource-type">Resource:</label>
          <select id="resource-type">
            <option value="system">System Configuration</option>
            <option value="financial">Financial Reports</option>
            <option value="hr">HR Records</option>
            <option value="department">Department Documents</option>
            <option value="public">Public Information</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="access-time">Access Time (24hr):</label>
          <input type="number" id="access-time" min="0" max="23" value="14">
        </div>
        
        <div class="form-group">
          <label for="ip-location">IP Location:</label>
          <select id="ip-location">
            <option value="corporate">Corporate Network</option>
            <option value="vpn">VPN</option>
            <option value="external">External</option>
          </select>
        </div>
        
        <button id="check-access">Check Access</button>
        
        <div id="access-result" class="result-box">
          <h3>Access Decision</h3>
          <p id="decision-text">Select options and click "Check Access"</p>
        </div>
      </div>
    </div>
    
    <div class="rainbow-divider"></div>
    
    <h2>Policy Reference Table</h2>
    <table class="access-table">
      <thead>
        <tr>
          <th>Resource</th>
          <th>Admin</th>
          <th>Manager</th>
          <th>User</th>
          <th>Special Conditions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>System Configuration</td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-denied">Denied</span></td>
          <td><span class="access-badge access-denied">Denied</span></td>
          <td>Admin must be from IT department</td>
        </tr>
        <tr>
          <td>Financial Reports</td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-denied">Denied</span></td>
          <td>Manager must be from Finance or Executive</td>
        </tr>
        <tr>
          <td>HR Records</td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-denied">Denied</span></td>
          <td>Manager must be from HR or Executive</td>
        </tr>
        <tr>
          <td>Department Documents</td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td>User can only access their own department's documents</td>
        </tr>
        <tr>
          <td>Public Information</td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td><span class="access-badge access-allowed">Allowed</span></td>
          <td>No special conditions</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const checkAccessBtn = document.getElementById('check-access');
      const accessResult = document.getElementById('access-result');
      const decisionText = document.getElementById('decision-text');
      
      checkAccessBtn.addEventListener('click', function() {
        const userRole = document.getElementById('user-role').value;
        const userDepartment = document.getElementById('user-department').value;
        const resourceType = document.getElementById('resource-type').value;
        const accessTime = parseInt(document.getElementById('access-time').value);
        const ipLocation = document.getElementById('ip-location').value;
        
        // Get user attributes based on role
        const userAttributes = {
          admin: {
            clearanceLevel: 'high',
            accessHours: { start: 0, end: 24 },
            allowedIpLocations: ['corporate', 'vpn', 'external']
          },
          manager: {
            clearanceLevel: 'medium',
            accessHours: { start: 7, end: 22 },
            allowedIpLocations: ['corporate', 'vpn']
          },
          user: {
            clearanceLevel: 'low',
            accessHours: { start: 9, end: 18 },
            allowedIpLocations: ['corporate']
          }
        };
        
        // Get resource attributes
        const resourceAttributes = {
          system: {
            requiredClearance: 'high',
            allowedDepartments: ['IT'],
            sensitivity: 'critical'
          },
          financial: {
            requiredClearance: 'medium',
            allowedDepartments: ['Finance', 'Executive'],
            sensitivity: 'high'
          },
          hr: {
            requiredClearance: 'medium',
            allowedDepartments: ['HR', 'Executive'],
            sensitivity: 'high'
          },
          department: {
            requiredClearance: 'low',
            allowedDepartments: [userDepartment], // Dynamic - own department
            sensitivity: 'medium'
          },
          public: {
            requiredClearance: 'low',
            allowedDepartments: ['IT', 'Finance', 'HR', 'Marketing', 'Sales', 'Executive'],
            sensitivity: 'low'
          }
        };
        
        // ABAC policy evaluation
        let accessGranted = true;
        let reasons = [];
        
        // Check user clearance level against resource requirements
        const clearanceLevels = { 'low': 1, 'medium': 2, 'high': 3 };
        if (clearanceLevels[userAttributes[userRole].clearanceLevel] < clearanceLevels[resourceAttributes[resourceType].requiredClearance]) {
          accessGranted = false;
          reasons.push(`Insufficient clearance level: ${userAttributes[userRole].clearanceLevel} < ${resourceAttributes[resourceType].requiredClearance}`);
        }
        
        // Check department access restrictions
        if (resourceType !== 'public' && 
            !resourceAttributes[resourceType].allowedDepartments.includes(userDepartment) && 
            userRole !== 'admin') {
          accessGranted = false;
          reasons.push(`Department ${userDepartment} not authorized for this resource`);
        }
        
        // Check access hours
        const userHours = userAttributes[userRole].accessHours;
        if (accessTime < userHours.start || accessTime >= userHours.end) {
          accessGranted = false;
          reasons.push(`Access attempt outside allowed hours (${userHours.start}:00-${userHours.end}:00)`);
        }
        
        // Check IP location
        if (!userAttributes[userRole].allowedIpLocations.includes(ipLocation)) {
          accessGranted = false;
          reasons.push(`Access from unauthorized location: ${ipLocation}`);
        }
        
        // Special case: System configuration requires IT department even for admin
        if (resourceType === 'system' && userDepartment !== 'IT') {
          accessGranted = false;
          reasons.push('System configuration access restricted to IT department personnel only');
        }
        
        // Display result
        accessResult.className = accessGranted ? 'result-box' : 'result-box denied';
        
        if (accessGranted) {
          decisionText.innerHTML = `<strong>✅ ACCESS GRANTED</strong><br>
            User with role ${userRole.toUpperCase()} from ${userDepartment} department is allowed to access ${document.getElementById('resource-type').options[document.getElementById('resource-type').selectedIndex].text}.`;
        } else {
          decisionText.innerHTML = `<strong>❌ ACCESS DENIED</strong><br>
            User with role ${userRole.toUpperCase()} from ${userDepartment} department cannot access ${document.getElementById('resource-type').options[document.getElementById('resource-type').selectedIndex].text}.<br><br>
            <strong>Reasons:</strong><br>` + reasons.map(r => `- ${r}`).join('<br>');
        }
      });
    });
  </script>
</body>
</html>